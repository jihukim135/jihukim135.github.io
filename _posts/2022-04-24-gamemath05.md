---
title:  "[게임수학] 5. 선형변환(Linear transform)의 개념"
excerpt: 선형성과 선형 변환
published: false

categories: ["Game Math"]
tags:
  # - [math]

toc: true
toc_sticky: true

date: 2022-04-24
last_modified_at: 2022-04-24

sidebar_main: true

---

> 학교 수업과 함께 '이득우의 게임 수학'을 공부하며 정리한 내용들입니다. [책 구매하러 가기!](http://aladin.kr/p/6fBSV)  
> 같은 카테고리의 앞선 글을 모두 읽었다고 가정하고 작성되었습니다.  
> 이해되지 않는 부분이 있다면 한번 읽고 와 보세요! 

## 선형성(Linearity)

선형성(Linearity)은 선형 변환을 이해하기 위해 알아야 할 매우 중요한 개념입니다. 전에 선형성은 간략히 말해 직선의 성질이라고 말한 적이 있었죠? 사실 정확한 설명은 아니었습니다. 선형성을 지니는 함수는 직선의 형태를 띠지 않을 수도 있고, 직선의 형태를 하는 함수도 선형성을 만족하지 못할 수 있습니다. 그럼 그놈의 정의가 무엇인지 이번에는 엄밀하게 살펴보도록 합시다.

선형대수학에서 **선형성은 다음 두 가지를 만족하는 함수의 성질**을 의미합니다.

1. \\(f(x_1+x_2)=f(x_1)+f(x_2)\\)  
2. $$f(k\cdot x)=kf(x)$$ (단, $$k$$는 상수)

첫번째 성질을 **가법성(Additivity) 혹은 중첩성(Superposition)**, 두번째 성질을 **1차 동차성(Homogeneity of degree 1)**이라고 부르는데요. 지금 간단히 해석해볼까요? 먼저 가법성은 어떤 입력 $$x_1$$과 $$x_2$$에 대해, 두 입력값을 더한 후 함수에 넣은 출력값과, 두 입력값을 각각 함수에 넣은 출력값들을 더한 것이 같다는 뜻이 되겠습니다.

두 번째로 중첩성은, 어떤 입력값 $$x$$에 대해 상수 $$k$$를 곱한 다음 함수에 넣은 출력값이나, $$x$$를 일단 함수에 넣은 다음 그 출력값에 $$k$$를 곱한 것이나 같다는 뜻이 됩니다.

이게 시각적으로 무엇을 의미하는지 한번 보도록 합시다.

일단 선형성이 없는 함수 $$f(x)=x+2$$를 보겠습니다. 위쪽은 입력 1과 3을 더한 4를 $$f$$에 넣는 과정을, 아래쪽은 입력 1과 3을 각각 $$f$$에 넣어 만든 3과 5를 더해주는 과정을 보여주고 있습니다.

![1](https://user-images.githubusercontent.com/90246317/170692325-38f0eb68-22ee-4d74-a98c-e1e3d3501643.png)

일단 주목할 것은 **$$x+2$$는 수직선 위의 모든 점들을 두 칸 오른쪽으로 이동시키는 함수**라는 점입니다. 모든 점들을 이동시킨다는 것은 곧 **공간 그 자체를 이동시키는 것과 같습니다.** 물론 1차원이라 살짝 애매한 부분이 있지만, 어쨌든 함수 $$f$$가 작동하면 0에 있던 **원점(파란 눈금)이 2로 이동**하는 것이 그림에서 보입니다.

두 과정의 결과는 6과 8로 같지 않습니다. 따라서 이 함수는 가법성을 만족하지 못합니다. 왜 그런지 한 번 생각해 보면, 함수의 **상수항인 2가 문제**임을 알 수 있습니다. 위의 과정에서는 함수가 한 번만 동작하므로 2가 한 번만 더해지지만, 아래 과정에서는 함수가 두 번 동작하므로 2가 두 번 더해지게 됩니다. 이 예시를 통해서, 상수항을 포함하는 함수는 가법성을 만족하지 못할 것이라고 유추해낼 수 있습니다.

![2](https://user-images.githubusercontent.com/90246317/170692374-c7b6a907-e3c8-4523-87b2-2672337bdcbe.png)

상수항이 있는 함수는 물론 1차 동차성도 만족시키지 못합니다. 함수 동작(변환) 전에 상수 $$k$$(이 그림에선 -3이겠죠)를 곱하면, 그 결과는 함수의 상수항에 영향을 받지 않으므로, 상수항은 마지막에 함수가 동작할 때 딱 한 번만 영향을 주게 됩니다. 이미 함수가 동작해 상수항의 영향을 받은 상태에서 $$k$$를 곱하면, 이미 더해진 상수항도 $$k$$배가 되어버리기 때문에 결국 두 과정의 결과값은 달라질 수밖에 없습니다.

그럼 이제는 선형성을 만족하지 못하는 또다른 함수 $$f(x)=x^2$$를 보겠습니다.

![3](https://user-images.githubusercontent.com/90246317/170692385-91fbed32-fa5b-4e62-9189-61644e945847.png)

이 함수는 **수직선의 눈금을 균일하지 않게 변화시키는 것과 같은 효과를 냅니다.** 일단 이 함수는 가법성을 만족하지 못하는데 이 역시 변환된 수직선의 눈금 간격이 일정하지 않기 때문이라는 걸 직관적으로 파악할 수 있을 것입니다. 1과 2가 커지는 정도와 3이 커지는 정도가 다르기 때문에, $$f(1+2)$$와 $$f(1)+f(2)$$는 다를 수밖에 없습니다.

![4](https://user-images.githubusercontent.com/90246317/170692395-2c8306f1-a0ed-4b54-8acb-b1aa84f0016c.png)

또 이 함수는 1차 동차성마저 만족하지 못합니다. 이 역시 수들이 변하는 정도가 일정하지 않기 때문입니다. (즉, 수들이 ‘비례’하며 변환되지 않기 때문입니다) 2는 4로 변하며 2배 증가하지만, -3은 -9로 변하며 3배가 됩니다. 이는 함수가 1차식보다 높은 차수의 식으로 구성될 때 발생하는 문제입니다. 변환되는 공간의 간격이 일정하지 않은 것이죠.

그럼 이번에는 상수항이 없는 1차식으로 구성된 함수를 봅시다.

![5](https://user-images.githubusercontent.com/90246317/170692412-9f520f20-cab6-434d-ac3b-15d1be812898.png)

![6](https://user-images.githubusercontent.com/90246317/170692430-4f734c24-0bc7-4903-909d-5905d3f9eeec.png)

이 함수는 가법성과 1차 동차성을 모두 만족합니다! 1차식으로 구성되므로 공간이 일정한 간격을 유지한 채로 변환되며, 상수항이 없으므로 원점이 이동하지 않습니다. 이렇게 **$$f(x)=ax$$(단, $$a$$는 상수)꼴로 된, 상수항이 없는 일차함수는 선형성을 가지며, 함수를 구성하는 두 집합이 순수한 비(Ratio)의 대응 관계를 가집니다.** 변환된 눈금(공간)의 간격이 일정하고 상수항도 없으므로 출력값에서 입력값을 거꾸로 계산하기 매우 쉽다는 장점도 있습니다.

그리고 재미있게도 이렇게 선형성을 만족하는 상수항이 없는 일차함수는 두 집합을 직교하는 축으로 표현한 데카르트 좌표계에서 ‘원점을 지나는 직선’의 형태를 하고 있습니다.

![7](https://user-images.githubusercontent.com/90246317/170692522-35a97015-2047-476d-a0c5-603e4d9181de.gif)  


<div class="notice--primary" markdown="1">
💡 정리하자면 선형성은 다음 두 가지의 성질을 모두 만족하는 함수의 성질입니다.

1. <u>가법성(Additivity), 중첩성(Superposition)</u>: $$f(x_1+x_2)=f(x_1)+f(x_2)$$
2. <u>1차 동차성(Homogeneity of degree 1)</u>: $$f(k\cdot x)=kf(x)$$ (단, $$k$$는 상수)
</div>

그리고 어느 함수가 선형성을 지닌다는 것은, 시각적으로 말하면, 그 함수에 의해 변환된 공간에서 ‘**변환된 값들 사이의 간격이 일정하고, 공간의 원점이 이동하지 않았음**’을 의미합니다.

<br/><br/>

## 벡터 공간의 선형 변환

지금까지는 체(Field)를 정의역으로 가지는 함수만을 살펴봤지만, 이제 벡터 공간을 정의역으로 가지는 함수의 선형성을 알아봅시다. 그런데 벡터 공간에서는, 어떤 벡터를 다른 벡터로 바꿔 주는 **함수를 관습적으로 변환(Transformation)이라 부릅니다.** 이는 입출력보다는 벡터가 변화하는 과정에 초점을 둔 용어인데, 시각적으로 벡터들이 어떻게 변환되는지 파악하는 데 도움을 줍니다.

먼저 2차원 벡터 공간을 생각해 봅시다. 그리고 그 공간의 벡터를 구성하는 첫 번째 집합의 원소를 $$x$$, 두 번째 집합의 원소를 $$y$$라고 하면, 데카르트 좌표계로 나타낸 벡터 공간의 모습은 다음과 같을 것입니다.

<img src = "https://user-images.githubusercontent.com/90246317/170692550-286f7b50-661f-4391-8a44-debf3004b0c5.png" width="70%">{: .align-center}

그럼 일단 벡터 공간에서 선형 변환이란 무엇일지 생각해봅니다. 앞서 본 선형함수에서는 변환된 공간에서의 눈금(즉, 변환된 값들 사이의 간격)이 일정했고, 공간의 원점이 이동하지 않았습니다. 그리고 벡터 공간에서의 두 축은 시각적으로 직교하며, 따로따로 계산되고, 서로 영향을 주지 않습니다. 그렇다면 **변환된 각 축의 눈금 간격이 일정하고, 즉, 격자의 간격이 일정하고, 원점이 이동하지 않는 공간의 변환이 벡터 공간에서의 선형 변환**이 아닐까요?

예를 들면, 이런 거라든가... (움짤입니다)

<img src = "https://user-images.githubusercontent.com/90246317/170692626-d02c33f6-602f-4f08-a2fa-c48de7d5a772.gif" width="70%">{: .align-center}

이런 거라든가...

<img src = "https://user-images.githubusercontent.com/90246317/170692608-6682b133-1210-426e-a2f5-869fa5e9c8bf.gif" width="70%">{: .align-center}

<img src = "https://user-images.githubusercontent.com/90246317/170692642-e6d7d5a6-c5d1-4155-8f77-300ec508727f.gif" width="70%">{: .align-center}

<img src = "https://user-images.githubusercontent.com/90246317/170692648-804aa5d7-5dcf-4577-ab53-65b31f9b2d31.gif" width="70%">{: .align-center}

그리고 그 생각이 맞습니다. 위의 변환들은 모두 **선형변환(Linear Transformation)**입니다. 공간을 구성하는 격자들이 직선의 형태를 유지하며, 그 간격이 일정하고, 원점이 이동하지 않는 변환이요. 그러면 이걸 수학적으로 어떻게 정의하면 될까요?

여기서 하나의 아이디어를 떠올려 봅시다. 전에 회전변환을 다룰 때, 회전은 사실 벡터 그 자체가 아니라 공간을 회전시키는 것이라 말했었죠? 그리고 그 공간의 회전은 기저벡터들의 회전으로 이루어졌습니다. 기저는 벡터 공간의 토대이므로 기저가 변하면 공간이 변합니다.

마찬가지로 선형변환도(물론 회전변환도 선형변환입니다.) 기저의 변환을 통해 가능합니다. 예를 들어, 다음은 $$(1,0),(0,1)$$이었던 기저를 $$(2,0)$$과 $$(0,2)$$로 변환하면서 공간 전체가 변하는 모습을 보여줍니다.

<img src = "https://user-images.githubusercontent.com/90246317/170692692-0954f4f2-7960-473c-a7cf-5be0ff7084d2.gif" width="70%">{: .align-center}

다음은 벡터 공간을 90도 회전시키는 선형변환인데, 기저가 $$(0,1),(-1,0)$$으로 변함으로써 이루어졌습니다. 회전변환을 배울 때, 벡터를 $$\theta$$만큼 회전시키기 위해 기저를 $$(\cos\theta,\sin\theta),(-\sin\theta,\cos\theta)$$으로 바꿨었죠? $$\theta$$가 $$90^\circ$$일 때 저 기저들의 값은 $$(0,1),(-1,0)$$입니다. 아무튼 회전변환도 선형변환의 일종이었던 것이죠!

<img src = "https://user-images.githubusercontent.com/90246317/170692699-abff3429-776e-40e7-8ada-444284f85d0a.gif" width="70%">{: .align-center}

이 변환도, 기저를 변환시킴으로서 선형변환이 수행되고 있습니다.

<img src = "https://user-images.githubusercontent.com/90246317/170692703-fe17d650-678e-4ca5-a2bb-c8147654eafa.gif" width="70%">{: .align-center}

그러므로 두 기저벡터(초록색 기저벡터를 $$\hat{i}$$, 빨간색 기저벡터를 $$\hat{j}$$라 하겠습니다)가 어떻게 변하는지만 정해지면 선형변환을 수행할 수 있습니다.

변환되지 않은 어느 벡터 $$\vec{v}=(x,y)$$가 있다고 할 때, 이 벡터는 표준기저를 통해 다음과 같이 나타낼 수 있습니다.

\\[
\vec{v}=x(1,0)+y(0,1)\\
= x\cdot e_1 + y \cdot e_2
\\]

그리고 변환된 $$\hat{i}$$를 $$(a,c)$$, $$\hat{j}$$를 $$(b,d)$$라 하면, 변환된 벡터 $$\vec{v\prime}$$은 다음과 같을 것입니다.

\\[
\vec{v\prime}=x\cdot(a,c)+y\cdot(b,d)\\
=(ax,cx)+(by,dy)\\
=(ax+by,cx+dy)
\\]

그러므로 이런 선형 변환을 수행해주는 선형 함수를 $$f$$라 할 때, $$f$$는

\\[
f(\vec{v})=f(x,y)=(ax+by,cx+dy) \text{  (단, a, b, c, d는 상수)}
\\]

와 같이 정의될 수 있겠습니다. 그럼 수학적으로 이 함수가 가법성과 1차 동차성을 만족하는지 봅시다.

1. 가법성
    
    (좌변) $$f(\vec{v_1}+\vec{v_2})=f(x_1+x_2,y_1+y_2)\\=(a(x_1+x_2)+b(y_1+y_2),c(x_1+x_2)+d(y_1+y_2))$$
    
    (우변) $$f(\vec{v_1})+f(\vec{v_2})=(ax_1+by_1,cx_1+dy_1)+(ax_2+by_2,cx_2+cs_2+dy_2)\\=(ax_1+ax_2+by_1+by_2,cx_1+cx_2+dy_1+dy_2)$$
    
    $$\therefore f(\vec{v_1}+\vec{v_2}) = f(\vec{v_1})+f(\vec{v_2})$$ <u>(만족!)</u>
    
2. 1차 동차성
    
    (좌변) $$kf(\vec{v})=(kax+kby,kcx+kdy)$$
    
    (우변) $$f(k\vec{v})=(akx+bky,ckx+dky)$$
    
    $$\therefore kf(\vec{v})=f(k\vec{v})$$ <u>(만족!)</u>
    

휴, 힘든 과정이었습니다. 아무튼 이 함수는 가법성과 1차 동차성을 만족하므로, 선형 변환이라고 부를 수 있겠네요. 다음 글에서는 선형 변환 과정을 체계화해 손쉽게 계산할 수 있도록 해 주는 편리한 도구인 행렬(Matrix)에 대해 알아보도록 하겠습니다.
